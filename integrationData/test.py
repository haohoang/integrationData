import re
import json

data = ["""{\r\n\t"@context": "https://schema.org",\r\n\t"@type": "WebSite",\r\n\t"name":"Careerbuilder Vietnam",\r\n\t"alternateName" : "careerbuilder.vn",\r\n\t"url": "https://careerbuilder.vn/",\r\n\t"sameAs" : [\r\n\t\t"https://www.facebook.com/CareerbuilderVietnam/",\r\n\t\t"https://www.linkedin.com/company/3216963/"\r\n\t],\r\n\t"potentialAction": {\r\n\t\t"@type": "SearchAction",\r\n\t\t"target": "https://careerbuilder.vn/viec-lam/{search_term_string}-k-vi.html",\r\n\t\t"query-input": "required name=search_term_string"\r\n\t}\r\n}\r\n""", """\r\n\t{\r\n\t  "@context": "http://schema.org",\r\n\t  "@type": "JobPosting",\r\n\t  "baseSalary" : {\r\n\t\t"@type": "MonetaryAmount",\r\n\t\t"currency": "VND",\r\n\t\t"value":"Cạnh tranh"},\r\n\t  "industry": "CNTT - Phần mềm",\r\n\r\n\t  "jobBenefits": "Chế độ bảo hiểm, Du Lịch, Chế độ thưởng, Chăm sóc sức khỏe, Đào tạo, Tăng lương, Nghỉ phép năm",\r\n\t  "datePosted": "2021-04-13",\r\n\t  "validThrough": "2021-05-06",\r\n\t  "occupationalCategory": "Nhân viên",\r\n\t  "description": "<ul><li>Xây dựng và hoàn thiện các phần mềm quản lý CRM, ACC... của công ty. Tiến hành nâng cấp, bảo trì dữ liệu theo chính sách điều chỉnh hằng năm của công ty.</li><li>Backup dữ liệu hàng tuần, xử lý sự cố xảy ra trong quá trình vận hành hệ thống.</li><li>Báo cáo công việc hằng tuần về tiến độ phát triển và xử lý các vấn đề phát sinh cho lãnh đạo.</li><li>Tham gia xây dựng và hỗ trợ các dự án mới theo định hướng phát triển của công ty.</li><li>Các công việc khác theo sự phân công của cấp quản lý</li></ul>",\r\n\t  "experienceRequirements": "<ul><li>Nam, không quá 35 tuổi.</li><li>Tốt nghiệp Đại học trở lên chuyên ngành Công nghệ thông tin hoặc các chuyên ngành khác liên quan.</li><li>Có ít nhất 1 năm kinh nghiệm làm việc trong Lập trình ứng dụng web services.</li><li>Thành thạo ngôn ngữ Asp.net, MVC, Entity framework, link q, web services, JavaScipt, JQuery, html, css,...</li><li>Am hiểu và vận dụng các tool báo cáo hoặc các ứng dụng mới vào hệ thống.</li><li>Xử lý dữ liệu tốt với hệ thống big data</li><li>Có trách nhiệm, tích cực chủ động trong công việc.</li><li>Khả năng chịu áp lực công việc tốt.</li><li>Khả năng làm việc chủ động, xử lý vấn đề tốt</li></ul><p><strong>QUYỀN LỢI ỨNG VIÊN</strong></p><ul><li>Làm việc Thứ 2 - thứ 6. Nghỉ thứ 7 và CN;</li><li>Được ký hợp đồng lao động và hưởng đầy đủ các quyền lợi do nhà nước quy định (BHXH, BHYT, BHTN)</li><li>Được đào tạo về nghiệp vụ trong suốt quá trình làm việc.</li><li>Có cơ hội mở rộng kiến thức về ngành quảng cáo truyền thông</li><li>Có cơ hội làm việc trong môi trường năng động, đồng nghiệp thân thiện, được tạo mọi điều kiện để phát triển năng lực bản thân.</li></ul>",\r\n\t  "educationRequirements": "Đại học",\r\n\t  "qualifications": "Đại học",\r\n\t  \t  "identifier": {\r\n\t\t"@type":"PropertyValue",\r\n\t\t"name":"Chicilon Media",\r\n\t\t"value":"35A74E89"\r\n\t  },\r\n\t  "hiringOrganization" : {\r\n\t\t"@type" : "Organization",\r\n\t\t"name" : "Chicilon Media",\r\n\t\t"sameAs":"https://careerbuilder.vn/vi/nha-tuyen-dung/chicilon-media.35A74E89.html",\r\n\t\t"logo":"https://images.careerbuilder.vn/employer_folders/lot5/157065/110x55/144644chicilon_quang_cao_ruou.jpg"\r\n\t  },\t  "employmentType": ["FULL_TIME"],\r\n\t  \t  "jobLocation" : {\r\n\t\t"@type": "Place",\r\n\t\t"address": {\r\n\t\t  "@type": "PostalAddress",\r\n\t\t  "streetAddress": "Hồ Chí Minh",\r\n\t\t  "addressLocality": "Hồ Chí Minh",\r\n\t\t  "addressRegion": "Hồ Chí Minh",\r\n\t\t  "addressCountry": "Việt Nam",\r\n\t\t  "postalCode": "70000"\r\n\t\t}\r\n\t  },\r\n\t  "title" : "Nhân Viên Lập Trình",\r\n\t  "skills" : "Nhân Viên Lập Trình,  lập trình viên,  chuyên viên lập trình",\r\n\t  "workHours" : "8AM-5PM"\r\n\t}\r\n"""]

# print(data[1])
data[1] = re.sub("<[^>]*>", "", data[1])
data[1] = re.sub("\r|\n|\t","", data[1])
job = json.loads(data[1])
# print(job)
with open('job1.json', 'w', encoding='utf-8') as f:
    json.dump(job, f, indent=4, ensure_ascii=False)

